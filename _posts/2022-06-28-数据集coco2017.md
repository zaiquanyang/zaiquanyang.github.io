---
layout: post
title: 目标检测数据集——COCO2017
tags: 数据集
---

## 🍉 COCO2017数据集简介

MSCOCO 数据集是微软构建的一个数据集，其包含 detection, segmentation, keypoints等任务, 是目标检测数据集中主流的数据集之一。

与PASCAL COCO数据集相比，COCO中的图片包含了自然图片以及生活中常见的目标图片，背景比较复杂，**目标数量比较多**，**目标尺寸更小**，因此COCO数据集上的任务也更难，当前评价一个检测模型好坏一般使用COCO数据集。

---


### 🍉 数据集下载

[➡️coco数据集官网](https://cocodataset.org/#download)

[🔄训练集下载链接 118k/18GB](http://images.cocodataset.org/zips/train2017.zip)

[🔄验证集下载链接 5k/1GB](http://images.cocodataset.org/zips/val2017.zip )

[🔄测试集下载链接 41K/6GB](http://images.cocodataset.org/zips/test2017.zip )

[🔄数据集stuff标注下载链接](http://images.cocodataset.org/annotations/stuff_annotations_trainval2017.zip)

什么是stuff类别 ❓
- 简单的理解就是stuff中包含没有明确边界的材料和对象.

---
### 🍉 数据集类别信息与标注文件格式

#### 🍉类别信息

需要强调的COCO目标检测数据集是80个类别，但是类别ID最大显示为90，最小为1, 不包括Background.

object的80类与stuff中的91类的区别在哪 ❓
- 简单的理解就是object80类是stuff91类的子集。对于我们自己使用，如果仅仅是做目标检测，基本只用object80类即可。


#### 🍉 标注文件格式

以 `instances_train2017`标注文件为例：

```python
import json

annotation_file = '/data/code/Det_Code/COCO_2017/annotations/instances_train2017.json'
with open(annotation_file, 'r') as f:
    dataset = json.load(f)
```

读取后, 得到一个包含四个key: ['info', 'licenses', 'images', 'annotations', 'categories']的字典。

-  **annotations**

**annotations** 是一个列表对应全部实例而不是图像的标注信息，以第一个图像实例为例来说：
```
{'segmentation': [[239.97, 260.24, 222.04, 270.49, 199.84, 253.41, 213.5, 227.79, 259.62, 200.46, 274.13, 202.17, 277.55, 210.71, 249.37, 253.41, 237.41, 264.51, 242.54, 261.95, 228.87, 271.34]], 'area': 2765.1486500000005, 'iscrowd': 0, 'image_id': 558840, 'bbox': [199.84, 200.46, 77.71, 70.88], 'category_id': 58, 'id': 156}
```
每个key分别对应：目标的分割信息（polygons多边形）（segmentation），实例面积（area），目标边界框信息（左上角x,y坐标，以及宽高）（bbox），类别id（category_id）。

-  **categories**

**categories** 是一个列表（元素个数对应检测目标的类别数）列表中每个元素都是一个dict对应一个类别的目标信息，包括类别id、类别名称和所属超类，注意实际只有80个Object类。

- **images**

**images** 是一个列表（元素个数对应图像的张数）